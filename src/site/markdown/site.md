# Generating the Maven Site

In order to generate a full site, the integration tests must have been run.

Why? Because the integration tests generate reports ...

- [Ant junitreport](http://ant.apache.org/manual/Tasks/junitreport.html)
- [Istanbul code coverage](http://gotwarlost.github.io/istanbul/) (used by Intern)
- [Checkstyle report]() (Via an XSLT transformation of the `checkstyle.xml` report generated by
  the [jshint-maven-plugin](https://github.com/cjdev/jshint-mojo) Maven plugin).

... and these reports are copied by the integration test into the `target/site/` folder. (this means `mvn clean` will remove some reports so be warned!)

Once the integration tests have been run successfully, build the site as normal:

    mvn site

## Publishing the Maven Site

Create a clone of the project, but only the `gh-pages` branch, in the same parent folder as the
regular repo:

    git clone https://github.com/gitgrimbo/settlersonlinesimulator.git -b gh-pages settlersonlinesimulator.pages

After generating the site, copy the site from the regular repo to the 'pages' repo:

    xcopy /E /Y /I target\site ..\settlersonlinesimulator.pages

(this is available in the utility script `bin\copy-site.bat`.)

**But** before copying, you should delete the existing contents of `settlersonlinesimulator.pages` so that stale files are not left in the repo.

After commiting the changes, push the branch to GitHub.

    git push origin gh-pages
